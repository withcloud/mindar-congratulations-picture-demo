<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./index.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.5/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script type="module" src="mindar-image-aframe.prod.js"></script>
    <script src="https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js"></script>

    <style>
          #example-scanning-overlay {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            background: transparent;
            z-index: 2;
          }
          @media (min-aspect-ratio: 1/1) {
              #example-scanning-overlay .inner {
                width: 50vh;
                height: 50vh;
              }
          }
          @media (max-aspect-ratio: 1/1) {
            #example-scanning-overlay .inner {
              width: 80vw;
              height: 80vw;
            }
          }

          #example-scanning-overlay .inner {
              display: flex;
              align-items: center;
              justify-content: center;
              position: relative;

              background:
              linear-gradient(to right, white 10px, transparent 10px) 0 0,
              linear-gradient(to right, white 10px, transparent 10px) 0 100%,
              linear-gradient(to left, white 10px, transparent 10px) 100% 0,
              linear-gradient(to left, white 10px, transparent 10px) 100% 100%,
              linear-gradient(to bottom, white 10px, transparent 10px) 0 0,
              linear-gradient(to bottom, white 10px, transparent 10px) 100% 0,
              linear-gradient(to top, white 10px, transparent 10px) 0 100%,
              linear-gradient(to top, white 10px, transparent 10px) 100% 100%;
              background-repeat: no-repeat;
              background-size: 40px 40px;
          }

          #example-scanning-overlay.hidden {
              display: none;
          }

          #example-scanning-overlay img {
              opacity: 0.6;
              width: 90%;
              align-self: center;
          }

          #example-scanning-overlay .inner .scanline {
              position: absolute;
              width: 100%;
              height: 10px;
              background: white;
              animation: move 2s linear infinite;
          }
          @keyframes move {
              0%, 
              100% { top: 0% }
              50% { top: calc(100% - 10px) }
          }
    
  </style>
  </head>
  
  <body class="bg-blue-300">
    <div id="example-scanning-overlay" class="">
      <div class="inner">
        <img src="./images/card.png">
        <div class="scanline"></div>
      </div>
    </div>

    <!-- 模型加載 -->
    <a-scene
      mindar-image="uiScanning: #example-scanning-overlay;imageTargetSrc: targets.mind; maxTrack: 1; filterMinCF:0.0001; filterBeta: 0.001;"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
      keyboard-shortcuts
      screenshot
      inspector
    >
      <!-- 掃描marker -->
      <a-assets>
        <img id="img" src="./images/1.png" />
      </a-assets>

      <!-- 顯示內容 -->
      <a-entity mindar-image-target="targetIndex: 0">
        <a-plane src="#img" position="0 0 0" height="1" width="1" rotation="0 0 0"></a-plane>
      </a-entity>

      <!-- 使用相機 -->
      <a-camera position="0 0 0" look-controls="enabled: false"> </a-camera>
    </a-scene>
  </body>
</html>